msg=$(cat "$1")

# Remove Git comments (lines starting with #)
msg=$(echo "$msg" | grep -v "^#")

# Process emoji replacement
msg=$(echo "$msg" | sed -e "s/^init/ğŸ‰ init/")
msg=$(echo "$msg" | sed -e "s/^feat/âœ¨ feat/")
msg=$(echo "$msg" | sed -e "s/^fix/ğŸ› fix/")
msg=$(echo "$msg" | sed -e "s/^docs/ğŸ“š docs/")
msg=$(echo "$msg" | sed -e "s/^style/ğŸ’ style/")
msg=$(echo "$msg" | sed -e "s/^refactor/ğŸ“¦ refactor/")
msg=$(echo "$msg" | sed -e "s/^perf/ğŸš€ perf/")
msg=$(echo "$msg" | sed -e "s/^test/ğŸš¨ test/")
msg=$(echo "$msg" | sed -e "s/^build/ğŸ›  build/")
msg=$(echo "$msg" | sed -e "s/^ci/âš™ï¸ ci/")
msg=$(echo "$msg" | sed -e "s/^chore/â™»ï¸ chore/")
msg=$(echo "$msg" | sed -e "s/^revert/ğŸ—‘ revert/")

echo "$msg" > "$1"

npx commitlint --edit $1
